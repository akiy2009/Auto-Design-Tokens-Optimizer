{"version":3,"file":"index.cjs.js","sources":["../../src/color-utils.js","../../../../src/index.ts"],"sourcesContent":["// --- Utility: hex → RGB ---\r\nexport function hexToRgb(hex) {\r\n  hex = hex.replace(\"#\", \"\");\r\n  if (hex.length === 3) hex = hex.split(\"\").map(c => c + c).join(\"\");\r\n  const num = parseInt(hex, 16);\r\n  return {\r\n    r: (num >> 16) & 255,\r\n    g: (num >> 8) & 255,\r\n    b: num & 255\r\n  };\r\n}\r\n\r\n// --- Utility: RGB → hex ---\r\nexport function rgbToHex({ r, g, b }) {\r\n  return (\r\n    \"#\" +\r\n    [r, g, b]\r\n      .map(x => x.toString(16).padStart(2, \"0\"))\r\n      .join(\"\")\r\n  );\r\n}\r\n\r\nexport function luminance(hex) {\r\n  const { r, g, b } = hexToRgb(hex);\r\n  const toLum = v =>\r\n    (v / 255 <= 0.03928)\r\n      ? v / 255 / 12.92\r\n      : Math.pow((v / 255 + 0.055) / 1.055, 2.4);\r\n\r\n  return 0.2126 * toLum(r) + 0.7152 * toLum(g) + 0.0722 * toLum(b);\r\n}\r\n\r\n// --- Contrast Ratio ---\r\nexport function contrastRatio(hex1, hex2) {\r\n  const L1 = luminance(hex1);\r\n  const L2 = luminance(hex2);\r\n  const brightest = Math.max(L1, L2);\r\n  const darkest = Math.min(L1, L2);\r\n  return (brightest + 0.05) / (darkest + 0.05);\r\n}\r\n\r\nexport function autoContrast(bg) {\r\n  const white = \"#ffffff\";\r\n  const black = \"#000000\";\r\n  return contrastRatio(bg, white) >= contrastRatio(bg, black)\r\n    ? white\r\n    : black;\r\n}\r\n\r\n// --- HSL 変換 ---\r\nexport function rgbToHsl({ r, g, b }) {\r\n  r /= 255; g /= 255; b /= 255;\r\n  const max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n  let h, s, l = (max + min) / 2;\r\n\r\n  if (max === min) {\r\n    h = s = 0;\r\n  } else {\r\n    const d = max - min;\r\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n    switch (max) {\r\n      case r: h = ((g - b) / d + (g < b ? 6 : 1)) * 60; break;\r\n      case g: h = ((b - r) / d + 2) * 60; break;\r\n      case b: h = ((r - g) / d + 4) * 60; break;\r\n    }\r\n  }\r\n\r\n  return { h, s, l };\r\n}\r\n\r\nexport function hslToRgb({ h, s, l }) {\r\n  const c = (1 - Math.abs(2 * l - 1)) * s;\r\n  const x = c * (1 - Math.abs((h / 60) % 2 - 1));\r\n  const m = l - c / 2;\r\n\r\n  let rgb;\r\n  if (0 <= h && h < 60) rgb = [c, x, 0];\r\n  else if (60 <= h && h < 120) rgb = [x, c, 0];\r\n  else if (120 <= h && h < 180) rgb = [0, c, x];\r\n  else if (180 <= h && h < 240) rgb = [0, x, c];\r\n  else if (240 <= h && h < 300) rgb = [x, 0, c];\r\n  else rgb = [c, 0, x];\r\n\r\n  return rgbToHex({\r\n    r: Math.round((rgb[0] + m) * 255),\r\n    g: Math.round((rgb[1] + m) * 255),\r\n    b: Math.round((rgb[2] + m) * 255)\r\n  });\r\n}\r\n\r\n// --- 色相調整 ---\r\nexport function adjustHue(hex, amount = 30) {\r\n  const hsl = rgbToHsl(hexToRgb(hex));\r\n  hsl.h = (hsl.h + amount) % 360;\r\n  return hslToRgb(hsl);\r\n}\r\n\r\n// --- 明度・彩度調整 ---\r\nexport function adjustLightness(hex, amount = 0.1) {\r\n  const hsl = rgbToHsl(hexToRgb(hex));\r\n  hsl.l = Math.min(1, Math.max(0, hsl.l + amount));\r\n  return hslToRgb(hsl);\r\n}\r\n\r\nexport function adjustSaturation(hex, amount = 0.1) {\r\n  const hsl = rgbToHsl(hexToRgb(hex));\r\n  hsl.s = Math.min(1, Math.max(0, hsl.s + amount));\r\n  return hslToRgb(hsl);\r\n}",null],"names":["hexToRgb","hex","replace","length","split","map","c","join","num","parseInt","r","g","b","luminance","toLum","v","Math","pow","contrastRatio","hex1","hex2","L1","L2","max","min","rgbToHsl","h","s","l","d","hslToRgb","abs","x","m","rgb","toString","padStart","rgbToHex","round","index","autoContrast","bg","white","black","adjustHue","amount","hsl","adjustLightness","adjustSaturation"],"mappings":"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"}